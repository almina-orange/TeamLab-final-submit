# TeamLab PHP オンラインスキルアップ講座：最終課題

## 概要

簡易版インスタグラム：`Hinstagram` の開発

* 画像を投稿する簡易的な SNS システムの開発
* 画面構成や各機能は[仕様書](https://team-lab.github.io/skillup/step2/insta_document.html)の通り
* 開発環境は[指定のもの](https://team-lab.github.io/skillup/step2/11-task.html)を利用する

## 工夫した点

「写真やデザイン，イラスト，デジタルアート（静止画）などを投稿するユーザ」を想定して開発を行った．
具体的な工夫点は下記の通り．

1. Bootstrap による GUI の作成
   * 既存の画面デザインでは操作確認もしづらかった
   * Laravel には既存で Bootstrap が導入されているため，Bootstrap にて画面を作成し，操作性の向上を図る
   * 特に，ヘッダー部には `Navbar` を使用し，操作性を改善した
2. `Profile` ボタンを追加
   * 自身のユーザ情報や投稿状況を確認しやすくするため，`Profile` ボタンを追加
   * 押下時，ログイン中のユーザの `User` 画面に遷移する
   * ヘッダー右部にログイン中のユーザ名を表示されるように変更し，ドロップダウンメニューにボタンを追加
3. `Delete` ボタンは `Profile` 画面（ログイン中のユーザの `User` 画面）のみで表示するように変更
   * 仕様書では `Home` 画面中に表示されると記載されているが，タイムライン上で投稿削除操作が行えることに不自然さを感じた
   * `Profile` 画面でのみ削除操作が可能となるように変更
4. `Delete` ボタン押下時に「本当に削除していいか」を確認する警告を表示
   * `Delete` ボタンを誤って押下し，意図しない削除が行われる可能性がある
   * `Delete` ボタン押下時に警告画面を表示することで，誤った削除を防ぐ
   * 警告画面の表示には Bootstrap の `Alert` を使用
5. `Favorite` 画面の作成
   * 自身が気に入った作品を即時に確認できるようにするため，`Favorite` ボタンおよび `Favorite` 画面を作成
   * ログインユーザが"いいね"した投稿が，新しい順に表示される
   * `Home` 画面と同じ画面設計とする（「1ページあたり10件表示」など）
   * ログインユーザ名の横のドロップダウンメニューにボタンを追加
6. `Ranking` 画面の作成
   * 注目されている投稿（"いいね"が多くもらえている投稿）を即時に確認できるようにするため，`Ranking` ボタンおよび `Ranking` 画面を作成
   * SQL 処理で"いいね"が多い順に画像データを取得し，"いいね"が多い順に投稿が表示される
   * `Home` 画面と同じ画面設計とする（「1ページあたり10件表示」など）
   * ヘッダー左部にボタンを追加
7. `Search` 画面の作成
   * 投稿が多くなり，もう一度見たい投稿を即時に探したい場合を想定し，`Search` ボタンを追加
   * キャプション内に含まれる単語で検索可能，大文字・小文字は問わない
   * ただし，空文字で検索した場合には何も表示しないものとする
   * SQL 処理で検索し，対象の投稿を新しい順に表示
   * `Home` 画面と同じ画面設計とする（「1ページあたり10件表示」など）
   * ヘッダー中央部にボタンを追加
8. `Liked users` ボタン（"いいね"したユーザ一覧表示ボタン）に"いいね"の数を同時表示
   * 各投稿がどのくらいの"いいね"をもらっているかを即時確認できるようにするため，あらかじめボタン上に表示
   * ユーザは"いいね"の数を見て，より"いいね"状況を詳しく知るためにボタンを押下するという場面を想定
   * また `Liked users` 画面では，"いいね"したユーザ一覧に加えて，該当する投稿も画面上部に表示する
9. 投稿できる画像サイズ容量を変更するために `.user.ini` を追加
   * 「スマートフォンで撮影した画像を直接投稿できない」という障害報告を受け，その対応として追加
   * `PostController` 内の `validate` で設定した画像サイズ（60MB）以下にも関わらず，投稿できなかった
   * 投稿する画像サイズの容量制限には `post_max_size` と `upload_max_size` の2種類あり，この既存の制限で引っかかっていたことが判明
   * これらを変更するため，`.user.ini` を追加し，容量制限を変更

## 課題

* [ ] GUI デザインの改良
  * スマートフォンで閲覧しても見やすい画面設計を行う
* [ ] 投稿画像の圧縮
  * 画像をそのまま保存・表示しているため，サイズの大きい画像が投稿されると，ページの読み込みに時間がかかる
  * ある程度以上のサイズの画像については，圧縮して保存・表示する
* [ ] Guard の実装（未ログイン時のリダイレクト処理）
  * Laravel は比較的容易に Guard が実装できる
  * 各画面について，未ログイン時のリダイレクト処理を徹底する